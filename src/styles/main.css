/**
 * Adobe Photoshop UXP 插件样式文件
 * 订单查询系统 - 主样式定义
 * 
 * 文件说明：
 * - 定义插件的全局样式和布局
 * - 使用CSS类名系统，便于统一管理和维护
 * - 支持响应式设计和UXP环境兼容
 * 
 * 作者：AI Assistant
 * 创建时间：2025-08-06
 * 版本：1.0.0
 */

/* ========================================
 * 1. 基础容器样式
 * ======================================== */

/**
 * 插件主容器
 * 作用：定义整个插件的基础布局结构
 * 特点：全屏高度，弹性布局，垂直排列
 */
.plugin-container {
    padding: 1px;                    /* 最小内边距，避免内容贴边 */
    height: 100vh;                   /* 全屏高度，适配不同屏幕 */
    display: flex;                    /* 弹性布局 */
    flex-direction: column;           /* 垂直排列子元素 */
}

/* ========================================
 * 2. 搜索区域样式
 * ======================================== */

/**
 * 搜索区域容器
 * 作用：包含搜索输入框和操作按钮
 * 布局：水平排列，居中对齐
 */
.search-area {
    display: flex;                    /* 弹性布局 */
    align-items: center;              /* 垂直居中对齐 */
    margin-top: 20px;                 /* 顶部间距 */
    gap: 6px;                         /* 减小元素间距 */
    flex-shrink: 0;                   /* 防止收缩 */
    margin-left: 8px;                 /* 左边距 */
    margin-right: 8px;                /* 右边距 */
    flex-wrap: nowrap;                /* 禁止换行 */
    justify-content: flex-start;      /* 左对齐 */
    overflow: visible;                /* 允许溢出，避免截断 */
    min-width: 250px;                 /* 最小宽度 */
    box-sizing: border-box;           /* 盒模型 */
    width: 100%;                      /* 占满容器宽度 */
}

/**
 * 搜索输入框
 * 作用：用户输入产品编号的文本框
 */
.search-input {
    width: 150px !important;          /* 强制固定宽度 */
    min-width: 150px !important;      /* 强制最小宽度 */
    max-width: none !important;       /* 移除最大宽度限制 */
    flex: none !important;            /* 禁用flex，使用固定宽度 */
    box-sizing: border-box;           /* 盒模型 */
}

/**
 * 搜索按钮
 * 作用：触发搜索功能的按钮
 */
.search-button {
    margin-left: 3px;                 /* 减小左侧间距 */
    min-width: 45px;                  /* 减小最小宽度 */
    max-width: 60px;                  /* 减小最大宽度 */
    flex-shrink: 0;                   /* 禁止收缩 */
    white-space: nowrap;              /* 文字不换行 */
    overflow: hidden;                 /* 隐藏溢出 */
    text-overflow: ellipsis;          /* 文字省略号 */
    box-sizing: border-box;           /* 盒模型 */
}

/**
 * 清空按钮
 * 作用：清空输入框内容的按钮
 */
.clear-button {
    margin-left: 2px;                 /* 减小左侧间距 */
    min-width: 45px;                  /* 减小最小宽度 */
    max-width: 60px;                  /* 减小最大宽度 */
    flex-shrink: 0;                   /* 禁止收缩 */
    white-space: nowrap;              /* 文字不换行 */
    overflow: hidden;                 /* 隐藏溢出 */
    text-overflow: ellipsis;          /* 文字省略号 */
    background-color: #9e9e9e !important; /* 灰色背景 */
    color: #ffffff !important;        /* 白色文字 */
    border-color: #9e9e9e !important; /* 灰色边框 */
    box-sizing: border-box;           /* 盒模型 */
}

/**
 * 清空按钮悬停效果
 * 作用：鼠标悬停时的颜色变化
 */
.clear-button:hover {
    background-color: #757575 !important; /* 深灰色背景 */
    border-color: #757575 !important;     /* 深灰色边框 */
}

/* ========================================
 * 3. 状态显示样式
 * ======================================== */

/**
 * 加载状态
 * 作用：显示搜索进行中的状态
 */
.loading-state {
    margin-top: 20px;                 /* 顶部间距 */
    text-align: center;               /* 文字居中 */
    flex-shrink: 0;                   /* 防止收缩 */
}

/**
 * 错误状态
 * 作用：显示搜索错误或异常信息
 */
.error-state {
    margin-top: 20px;                 /* 顶部间距 */
    color: #d32f2f;                   /* 错误红色 */
    flex-shrink: 0;                   /* 防止收缩 */
}

/* ========================================
 * 4. 搜索结果容器样式
 * ======================================== */

/**
 * 搜索结果主容器
 * 作用：包含所有搜索结果的显示区域
 * 布局：绝对定位，自适应窗口大小
 */
.search-results-container {
    margin-top: 5px;                  /* 顶部间距 */
    position: absolute;                /* 绝对定位 */
    top: 80px;                        /* 增加距离顶部距离，避免与搜索区域重叠 */
    left: 8px;                        /* 距离左边8px */
    right: 8px;                       /* 距离右边8px */
    bottom: 8px;                      /* 距离底部8px */
}

/**
 * 无结果提示
 * 作用：当搜索无结果时显示提示信息
 */
.no-results {
    margin-top: 10px;                 /* 顶部间距 */
    color: #666;                      /* 灰色文字 */
}

/**
 * 结果包装器
 * 作用：为搜索结果提供边框和背景
 * 特点：可滚动，有边框和圆角
 */
.results-wrapper {
    border: 1px solid #ddd;           /* 边框 */
    border-radius: 5px;               /* 圆角 */
    padding: 8px;                     /* 内边距 */
    background-color: #f9f9f9;        /* 浅灰背景 */
    height: 100%;                     /* 全高度 */
    overflow-y: auto;                 /* 垂直滚动 */
}

/* ========================================
 * 5. 产品卡片样式
 * ======================================== */

/**
 * 产品信息卡片
 * 作用：显示单个产品的完整信息
 * 特点：白色背景，有边框和圆角
 */
.product-card {
    margin-bottom: 5px;               /* 底部间距 */
    padding: 10px;                    /* 内边距 */
    border: 1px solid #eee;           /* 边框 */
    border-radius: 5px;               /* 圆角 */
    background-color: white;           /* 白色背景 */
}

/* ========================================
 * 6. 可折叠区域样式
 * ======================================== */

/**
 * 可折叠区域容器
 * 作用：为可折叠内容提供容器
 */
.collapsible-section {
    margin-bottom: 20px;              /* 底部间距 */
}

/**
 * 可折叠区域标题栏
 * 作用：显示区域标题和展开/收起状态
 * 特点：可点击，有渐变背景和阴影
 */
.collapsible-header {
    display: flex;                    /* 弹性布局 */
    align-items: center;              /* 垂直居中 */
    justify-content: space-between;   /* 两端对齐 */
    padding: 12px 16px;              /* 内边距 */
    cursor: pointer;                  /* 鼠标指针 */
    user-select: none;                /* 禁止选择文字 */
    transition: all 0.3s ease;        /* 过渡动画 */
    background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); /* 渐变背景 */
    border-radius: 8px;               /* 圆角 */
    margin-bottom: 12px;              /* 底部间距 */
    box-shadow: 0 2px 8px rgba(0,0,0,0.1); /* 阴影效果 */
    position: relative;                /* 相对定位 */
    overflow: hidden;                  /* 隐藏溢出 */
}

/**
 * 可折叠区域标题文字
 * 作用：显示区域名称
 * 特点：粗体，有文字阴影，现代字体
 */
.collapsible-title {
    color: #333333;                   /* 深灰色 */
    font-weight: 700;                 /* 粗体 */
    font-size: 18px;                  /* 字体大小 */
    flex: 1;                          /* 占据剩余空间 */
    pointer-events: none;             /* 禁止鼠标事件 */
    /* font-family: 'Microsoft YaHei', '微软雅黑', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 微软雅黑字体 */
    /* font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif; */
    /* font-family: 'Source Han Sans CN', 'Noto Sans CJK SC', sans-serif; */
    font-family: 'Arial Black', 'Helvetica Bold', 'Microsoft YaHei', sans-serif;
    text-shadow: 0 1px 2px rgba(255,255,255,0.5); /* 白色文字阴影 */
    position: relative;                /* 相对定位 */
    z-index: 1;                       /* 层级 */
}

/**
 * 可折叠区域箭头
 * 作用：显示展开/收起状态的箭头图标
 */
.collapsible-arrow {
    font-size: 14px;                  /* 字体大小 */
    color: #666666;                   /* 灰色 */
    pointer-events: none;             /* 禁止鼠标事件 */
    position: relative;                /* 相对定位 */
    z-index: 1;                       /* 层级 */
    font-weight: bold;                /* 粗体 */
}

/**
 * 可折叠区域内容
 * 作用：显示可折叠的具体内容
 */
.collapsible-content {
    padding: 15px 8px;               /* 内边距 */
}

/* ========================================
 * 7. 信息行样式
 * ======================================== */

/**
 * 信息行容器
 * 作用：显示标签和值的行容器
 * 布局：水平排列，标签固定宽度，值自适应
 */
.info-row {
    display: flex;                    /* 弹性布局 */
    margin-bottom: 8px;               /* 底部间距 */
    font-size: 16px;                  /* 字体大小 */
}

/**
 * 信息标签
 * 作用：显示字段名称
 * 特点：固定宽度，粗体，不收缩
 */
.info-label {
    font-weight: bold;                /* 粗体 */
    width: 120px;                     /* 固定宽度 */
    flex-shrink: 0;                   /* 禁止收缩 */
    font-size: 16px;                  /* 字体大小 */
}

/**
 * 信息值
 * 作用：显示字段的具体值
 * 特点：自适应宽度，占据剩余空间
 */
.info-value {
    flex: 1;                          /* 占据剩余空间 */
    font-size: 16px;                  /* 字体大小 */
}

/* ========================================
 * 8. 特殊样式类
 * ======================================== */

/**
 * 产品编号样式
 * 作用：突出显示产品编号
 * 特点：蓝色，粗体
 */
.product-no {
    color: #1976d2;                   /* 蓝色 */
    font-weight: bold;                /* 粗体 */
}

/**
 * 产品状态样式
 * 作用：显示产品当前状态
 * 特点：红色，表示状态信息
 */
.product-status {
    color: #d32f2f;                   /* 红色 */
}

/**
 * 产品进度样式
 * 作用：显示产品制作进度
 * 特点：红色，表示进度信息
 */
.product-progress {
    color: #d32f2f;                   /* 红色 */
}

/**
 * 总价格样式
 * 作用：突出显示总价格
 * 特点：红色，粗体，较大字体
 */
.total-price {
    color: #d32f2f;                   /* 红色 */
    font-weight: bold;                /* 粗体 */
    font-size: 16px;                  /* 字体大小 */
}

/**
 * 已付金额样式
 * 作用：显示已支付的金额
 * 特点：绿色，粗体，表示已完成的支付
 */
.paid-amount {
    color: #2e7d32;                   /* 绿色 */
    font-weight: bold;                /* 粗体 */
    font-size: 16px;                  /* 字体大小 */
}

/**
 * 剩余金额样式
 * 作用：显示剩余需要支付的金额
 * 特点：橙色，粗体，表示待支付
 */
.remaining-amount {
    color: #f57c00;                   /* 橙色 */
    font-weight: bold;                /* 粗体 */
    font-size: 16px;                  /* 字体大小 */
}

/**
 * 客户编号样式
 * 作用：显示客户编号
 * 特点：蓝色，便于识别
 */
.customer-no {
    color: #1976d2;                   /* 蓝色 */
}

/**
 * 更多详情链接样式
 * 作用：显示可点击的详情链接
 * 特点：蓝色，有下划线
 */
.more-detail-link {
    color: #1976d2;                   /* 蓝色 */
    text-decoration: underline;       /* 下划线 */
}

/**
 * 邮箱链接样式
 * 作用：显示可点击的邮箱链接
 * 特点：蓝色，有下划线
 */
.email-link {
    color: #1976d2;                   /* 蓝色 */
    text-decoration: underline;       /* 下划线 */
}

/**
 * 电话链接样式
 * 作用：显示可点击的电话链接
 * 特点：蓝色，有下划线
 */
.phone-link {
    color: #1976d2;                   /* 蓝色 */
    text-decoration: underline;       /* 下划线 */
}

/* ========================================
 * 9. 定制信息样式
 * ======================================== */

/**
 * 定制信息行
 * 作用：显示定制信息的每一行
 */
.customize-info-line {
    margin-bottom: 2px;               /* 底部间距 */
}

/**
 * 定制信息键
 * 作用：显示定制信息的字段名
 * 特点：粗体，黑色
 */
.customize-info-key {
    font-weight: bold;                /* 粗体 */
    color: #000000;                   /* 黑色 */
}

/**
 * 定制信息值
 * 作用：显示定制信息的具体值
 */
.customize-info-value {
    margin-left: 5px;                 /* 左侧间距 */
}

/* ========================================
 * 10. 图片样式
 * ======================================== */

/**
 * 参考附件图片
 * 作用：显示产品相关的参考图片
 * 特点：可点击，有边框和圆角
 */
.reference-image {
    max-width: 200px;                 /* 最大宽度 */
    max-height: 150px;                /* 最大高度 */
    border: 1px solid #ddd;           /* 边框 */
    border-radius: 4px;               /* 圆角 */
    cursor: pointer;                  /* 鼠标指针 */
    transition: transform 0.2s ease;  /* 悬停动画 */
}

/**
 * 参考附件图片悬停效果
 * 作用：鼠标悬停时的放大效果
 */
.reference-image:hover {
    transform: scale(1.05);           /* 放大效果 */
    box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* 悬停阴影 */
}

/**
 * 附件网格容器
 * 作用：为多张图片提供网格布局
 * 特点：响应式网格，自动换行
 */
.attachments-grid {
    display: grid;                    /* 网格布局 */
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); /* 响应式列 */
    gap: 8px;                        /* 网格间距 */
    margin-top: 8px;                 /* 顶部间距 */
    max-width: 100%;                 /* 最大宽度 */
    width: 100%;                     /* 确保宽度 */
}

/**
 * 附件项容器
 * 作用：单个附件的容器
 * 特点：相对定位，便于覆盖层定位
 */
.attachment-item {
    position: relative;               /* 相对定位 */
    display: flex;                    /* 弹性布局 */
    justify-content: center;          /* 水平居中 */
    align-items: center;              /* 垂直居中 */
    border-radius: 6px;               /* 圆角 */
    overflow: hidden;                 /* 隐藏溢出 */
    background-color: #f5f5f5;       /* 背景色 */
    transition: all 0.3s ease;       /* 过渡动画 */
    min-height: 80px;                /* 最小高度 */
    width: 100%;                     /* 占满容器宽度 */
}

/**
 * 附件项悬停效果
 * 作用：鼠标悬停时的视觉反馈
 */
.attachment-item:hover {
    transform: translateY(-2px);      /* 轻微上移 */
    box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* 悬停阴影 */
}

/**
 * 附件项中的图片样式
 * 作用：网格中图片的样式调整
 */
.attachment-item .reference-image {
    width: 100%;                      /* 占满容器宽度 */
    height: 80px;                     /* 固定高度 */
    object-fit: cover;                /* 保持比例裁剪 */
    border: 1px solid #ddd;           /* 边框 */
    border-radius: 6px;               /* 圆角 */
    transition: all 0.3s ease;        /* 过渡动画 */
    display: block;                   /* 块级显示 */
    background-color: white;          /* 白色背景 */
}

/**
 * 附件项中图片的悬停效果
 * 作用：网格中图片的悬停效果
 */
.attachment-item:hover .reference-image {
    transform: scale(1.02);           /* 轻微放大 */
}

/**
 * 图片覆盖层
 * 作用：在图片上显示序号或其他信息
 * 特点：半透明背景，绝对定位
 */
.image-overlay {
    position: absolute;               /* 绝对定位 */
    top: 4px;                        /* 距离顶部 */
    right: 4px;                      /* 距离右侧 */
    background-color: rgba(0,0,0,0.7); /* 半透明黑色背景 */
    color: white;                    /* 白色文字 */
    border-radius: 12px;             /* 圆角 */
    padding: 2px 6px;                /* 内边距 */
    font-size: 10px;                 /* 字体大小 */
    font-weight: bold;               /* 粗体 */
    min-width: 16px;                 /* 最小宽度 */
    text-align: center;              /* 文字居中 */
    line-height: 1.2;                /* 行高 */
}

/**
 * 图片序号样式
 * 作用：显示图片在网格中的序号
 */
.image-number {
    display: inline-block;            /* 行内块 */
    vertical-align: middle;           /* 垂直居中 */
}

/**
 * 附件信息提示
 * 作用：显示附件数量和操作提示
 * 特点：小字体，灰色文字
 */
.attachments-info {
    margin-top: 6px;                 /* 顶部间距 */
    font-size: 12px;                 /* 字体大小 */
    color: #666;                     /* 灰色文字 */
    font-style: italic;              /* 斜体 */
    text-align: center;              /* 文字居中 */
}

/**
 * 单张图片时的特殊样式
 * 作用：当只有一张图片时的样式调整
 */
.attachments-grid:has(.attachment-item:only-child) {
    grid-template-columns: 1fr;       /* 单列布局 */
    max-width: 200px;                /* 限制最大宽度 */
}

/**
 * 小屏幕适配 - 附件网格
 * 作用：在小屏幕上调整网格布局
 */
@media (max-width: 480px) {
    .attachments-grid {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); /* 减小最小宽度 */
        gap: 6px;                    /* 减小间距 */
    }
    
    .attachment-item .reference-image {
        height: 80px;                /* 减小高度 */
    }
    
    .image-overlay {
        font-size: 9px;              /* 减小字体 */
        padding: 1px 4px;            /* 减小内边距 */
    }
    
    .attachments-info {
        font-size: 11px;             /* 减小字体 */
    }
}

/**
 * 附件容器
 * 作用：为多张图片提供简单的flex布局
 * 特点：水平排列，自动换行
 */
.attachments-container {
    display: flex;                    /* 弹性布局 */
    flex-wrap: wrap;                  /* 自动换行 */
    gap: 8px;                        /* 间距 */
    margin-top: 8px;                 /* 顶部间距 */
    max-width: 100%;                 /* 最大宽度 */
}

/**
 * 附件容器中的图片样式
 * 作用：确保图片在容器中正确显示
 */
.attachments-container .reference-image {
    width: 120px;                    /* 固定宽度 */
    height: 90px;                    /* 固定高度 */
    object-fit: cover;                /* 保持比例裁剪 */
    border: 1px solid #ddd;          /* 边框 */
    border-radius: 4px;              /* 圆角 */
    cursor: pointer;                 /* 鼠标指针 */
    transition: transform 0.2s ease; /* 悬停动画 */
    flex-shrink: 0;                  /* 禁止收缩 */
}

/**
 * 附件容器中图片的悬停效果
 * 作用：鼠标悬停时的放大效果
 */
.attachments-container .reference-image:hover {
    transform: scale(1.05);          /* 放大效果 */
    box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* 悬停阴影 */
}

/* ========================================
 * 11. 地址文本样式
 * ======================================== */

/**
 * 地址文本样式
 * 作用：显示长地址文本
 * 特点：自动换行，防止溢出
 */
.address-text {
    word-break: break-all;            /* 强制换行 */
}

/* ========================================
 * 12. 响应式设计
 * ======================================== */

/**
 * 小屏幕适配
 * 作用：在小屏幕上调整布局，但保持搜索区域不换行
 */
@media (max-width: 480px) {
    .search-area {
        /* 移除 flex-direction: column; 确保不换行 */
        gap: 4px;                     /* 进一步减小间距 */
        max-width: 280px;             /* 减小最大宽度 */
    }
    
    .search-input {
        max-width: 100px;             /* 减小输入框宽度 */
        min-width: 60px;              /* 减小最小宽度 */
    }
    
    .search-button,
    .clear-button {
        min-width: 40px;              /* 减小按钮最小宽度 */
        max-width: 50px;              /* 减小按钮最大宽度 */
    }
    
    .info-label {
        width: 100px;                 /* 减小标签宽度 */
        font-size: 14px;              /* 减小字体 */
    }
    
    .info-value {
        font-size: 14px;              /* 减小字体 */
    }
    
    .collapsible-title {
        font-size: 16px;              /* 减小标题字体 */
    }
}

/* ========================================
 * 13. 动画效果
 * ======================================== */

/**
 * 淡入动画
 * 作用：为搜索结果添加淡入效果
 */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.search-results-container {
    animation: fadeIn 0.3s ease-out;  /* 应用淡入动画 */
}

/**
 * 展开动画
 * 作用：为可折叠内容添加展开动画
 */
.collapsible-content {
    animation: fadeIn 0.2s ease-out;  /* 应用淡入动画 */
}

/* ========================================
 * 14. 滚动条样式
 * ======================================== */

/**
 * 自定义滚动条
 * 作用：美化滚动条样式
 */
.results-wrapper::-webkit-scrollbar {
    width: 8px;                       /* 滚动条宽度 */
}

.results-wrapper::-webkit-scrollbar-track {
    background: #f1f1f1;              /* 轨道背景 */
    border-radius: 4px;               /* 圆角 */
}

.results-wrapper::-webkit-scrollbar-thumb {
    background: #c1c1c1;              /* 滑块背景 */
    border-radius: 4px;               /* 圆角 */
}

.results-wrapper::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;              /* 悬停背景 */
} 